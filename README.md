# CDKer

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Java](https://img.shields.io/badge/Java-17%2B-red.svg)](https://adoptium.net/)

CDKer æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„MinecraftæœåŠ¡å™¨æ’ä»¶ï¼Œç”¨äºç®¡ç†å’Œåˆ†å‘å…‘æ¢ç ï¼ˆCDKï¼‰ã€‚å®ƒå…è®¸æœåŠ¡å™¨ç®¡ç†å‘˜åˆ›å»ºå¯å…‘æ¢çš„ä»£ç ï¼Œç©å®¶å¯ä»¥ä½¿ç”¨è¿™äº›ä»£ç è·å¾—å¥–åŠ±ï¼Œå¦‚ç‰©å“ã€é‡‘é’±æˆ–å…¶ä»–æ¸¸æˆå†…ç¦åˆ©ã€‚

## ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å®‰è£…è¯´æ˜](#å®‰è£…è¯´æ˜)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [ä½¿ç”¨æ•™ç¨‹](#ä½¿ç”¨æ•™ç¨‹)
  - [åˆ›å»ºCDK](#åˆ›å»ºcdk)
  - [ä½¿ç”¨CDK](#ä½¿ç”¨cdk)
  - [ç®¡ç†CDK](#ç®¡ç†cdk)
- [æƒé™èŠ‚ç‚¹](#æƒé™èŠ‚ç‚¹)
- [æ•°æ®åº“æ”¯æŒ](#æ•°æ®åº“æ”¯æŒ)
- [å‘½ä»¤å‚è€ƒ](#å‘½ä»¤å‚è€ƒ)
- [æ„å»ºé¡¹ç›®](#æ„å»ºé¡¹ç›®)
- [è´¡çŒ®](#è´¡çŒ®)
- [è®¸å¯è¯](#è®¸å¯è¯)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ **åˆ›å»ºå¤šç§ç±»å‹çš„CDK**ï¼šæ”¯æŒåˆ›å»ºä¸€æ¬¡æ€§ä½¿ç”¨æˆ–å¯å¤šæ¬¡ä½¿ç”¨çš„å…‘æ¢ç 
- ğŸ“¦ **ç»‘å®šå‘½ä»¤å¥–åŠ±**ï¼šæ¯ä¸ªCDKå¯ä»¥ç»‘å®šå¤šä¸ªå‘½ä»¤ï¼Œå¦‚ç»™äºˆç‰©å“ã€é‡‘é’±ç­‰
- â° **è®¾ç½®è¿‡æœŸæ—¶é—´**ï¼šå¯ä»¥ä¸ºCDKè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸåæ— æ³•ä½¿ç”¨
- ğŸ” **æƒé™æ§åˆ¶**ï¼šåŒºåˆ†ç©å®¶ä¸ç®¡ç†å‘˜æƒé™ï¼Œç¡®ä¿å®‰å…¨æ“ä½œ
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ç•Œé¢
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–**ï¼šæ”¯æŒSQLiteå’ŒMySQLæ•°æ®åº“ï¼Œç¡®ä¿æ•°æ®å®‰å…¨
- ğŸ“¤ **å¯¼å…¥å¯¼å‡ºåŠŸèƒ½**ï¼šå¯ä»¥å°†CDKæ•°æ®å¯¼å‡ºä¸ºYAMLæ–‡ä»¶æˆ–ä»YAMLæ–‡ä»¶å¯¼å…¥
- ğŸ“‹ **åˆ—è¡¨åˆ†é¡µ**ï¼šæ”¯æŒåˆ†é¡µæµè§ˆCDKåˆ—è¡¨ï¼Œä¾¿äºç®¡ç†å¤§é‡CDK
- ğŸ“¢ **ä½¿ç”¨å¹¿æ’­**ï¼šå¯é…ç½®CDKä½¿ç”¨æ—¶çš„å…¨æœå¹¿æ’­é€šçŸ¥
- ğŸ”„ **çƒ­é‡è½½é…ç½®**ï¼šæ”¯æŒåœ¨ä¸é‡å¯æœåŠ¡å™¨çš„æƒ…å†µä¸‹é‡è½½é…ç½®æ–‡ä»¶

## å®‰è£…è¯´æ˜

1. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„æ’ä»¶JARæ–‡ä»¶
2. å°†JARæ–‡ä»¶æ”¾å…¥æœåŠ¡å™¨çš„ `plugins` æ–‡ä»¶å¤¹ä¸­
3. å¯åŠ¨æˆ–é‡å¯æœåŠ¡å™¨
4. æ’ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œä½äº `plugins/CDKer/` ç›®å½•ä¸‹
5. æ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶
6. ä½¿ç”¨ `/cdk reload` å‘½ä»¤é‡æ–°åŠ è½½é…ç½®

## é…ç½®è¯´æ˜

æ’ä»¶çš„ä¸»è¦é…ç½®æ–‡ä»¶ä½äº `plugins/CDKer/config.yml`ï¼š

```yaml
# CDKé…ç½®
cdk:
  # CDKå­—ç¬¦é›†
  charset: "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
  # CDKé•¿åº¦
  length: 12
  # é»˜è®¤å…‘æ¢æ¬¡æ•°
  default-uses: 1
  # è¯­è¨€é…ç½® (æ”¯æŒ: zh_CN, en_US)
  language: "zh_CN"
  # æ¶ˆæ¯å‰ç¼€
  prefix: "&bCDKer &7> &f"
  # æ•°æ®åº“é…ç½®
  database:
    type: "sqlite" # sqlite æˆ– mysql
    sqlite:
      file: "cdk.db"
    mysql:
      host: "localhost"
      port: 3306
      database: "cdk"
      username: "root"
      password: "password"
      table-prefix: "cdk_"

# æ’ä»¶åŸºç¡€è®¾ç½®
settings:
  # æ’ä»¶æ¶ˆæ¯å‰ç¼€
  prefix: "Â§6[CDK] Â§f"
  # æ’ä»¶è¯­è¨€ (zh_CN æˆ– en_US)
  language: "zh_CN"
  # æ˜¯å¦å¯ç”¨è°ƒè¯•æ¨¡å¼
  debug: false
  # æ˜¯å¦åœ¨ä½¿ç”¨CDKæ—¶å¹¿æ’­
  broadcast: true
  # å¹¿æ’­æ¶ˆæ¯æ¨¡æ¿ (æ”¯æŒ {player} å’Œ {type} å˜é‡)
  broadcast-message: "Â§eç©å®¶ {player} ä½¿ç”¨äº†ä¸€ä¸ª {type} CDK!"

# æƒé™ç›¸å…³é…ç½®
permissions:
  # ç®¡ç†å‘˜æƒé™èŠ‚ç‚¹
  admin: "cdk.admin"
  # ä½¿ç”¨CDKæƒé™èŠ‚ç‚¹
  use: "cdk.use"
  # åˆ›å»ºCDKæƒé™èŠ‚ç‚¹
  create: "cdk.create"
  # æŸ¥è¯¢CDKæƒé™èŠ‚ç‚¹
  query: "cdk.query"
```

## ä½¿ç”¨æ•™ç¨‹

### åˆ›å»ºCDK

åˆ›å»ºCDKçš„åŸºæœ¬è¯­æ³•ï¼š
```
/cdk create <æ•°é‡> "<å‘½ä»¤1|å‘½ä»¤2|...>" [æ¬¡æ•°] [å¤‡æ³¨] [è¿‡æœŸæ—¶é—´] [ç±»å‹] [å…è®¸å¤šæ¬¡ä½¿ç”¨]
```

ç¤ºä¾‹ï¼š
```
/cdk create 5 "give {player} diamond 1|say æ­å–œè·å¾—é’»çŸ³" 1 "æ–°æ‰‹ç¤¼åŒ…" "2025-12-31 23:59" "newbie" true
```

å‚æ•°è¯´æ˜ï¼š
- `<æ•°é‡>`: è¦ç”Ÿæˆçš„CDKæ•°é‡ (1-100)
- `<å‘½ä»¤>`: ç©å®¶å…‘æ¢æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¤šä¸ªå‘½ä»¤ç”¨ `|` åˆ†éš”
- `[æ¬¡æ•°]`: æ¯ä¸ªCDKå¯è¢«å…‘æ¢çš„æ€»æ¬¡æ•°ï¼Œé»˜è®¤ä¸ºé…ç½®æ–‡ä»¶ä¸­çš„é»˜è®¤å…‘æ¢æ¬¡æ•°
- `[å¤‡æ³¨]`: CDKçš„å¤‡æ³¨ä¿¡æ¯
- `[è¿‡æœŸæ—¶é—´]`: æ ¼å¼ä¸º `yyyy-MM-dd HH:mm`ï¼Œé»˜è®¤ä¸º "forever"
- `[ç±»å‹]`: è‡ªå®šä¹‰ç±»å‹æ ‡è¯†
- `[å…è®¸å¤šæ¬¡ä½¿ç”¨]`: true/falseï¼Œæ˜¯å¦å…è®¸åŒä¸€ç©å®¶å¤šæ¬¡å…‘æ¢

### ä½¿ç”¨CDK

ç©å®¶å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…‘æ¢CDKï¼š
```
/cdk use <å…‘æ¢ç >
```

### ç®¡ç†CDK

#### æŸ¥è¯¢CDKä¿¡æ¯
```
/cdk query <id/cdk> <æ ‡è¯†ç¬¦>
```

#### åˆ—å‡ºæ‰€æœ‰CDK
```
/cdk list [é¡µç ] [ç±»å‹]
```

#### åˆ é™¤CDK
```
/cdk del <id/cdk> <æ ‡è¯†ç¬¦>
```

#### è®¾ç½®CDKå±æ€§
```
/cdk set <id/cdk> <æ ‡è¯†ç¬¦> <å±æ€§> <å€¼>
```

å¯è®¾ç½®çš„å±æ€§åŒ…æ‹¬ï¼š
- `remaining_uses`: å‰©ä½™ä½¿ç”¨æ¬¡æ•°
- `commands`: å‘½ä»¤åˆ—è¡¨
- `expire_time`: è¿‡æœŸæ—¶é—´
- `note`: å¤‡æ³¨
- `cdk_type`: CDKç±»å‹
- `per_player_multiple`: æ˜¯å¦å…è®¸å¤šæ¬¡ä½¿ç”¨

#### å¢åŠ CDKä½¿ç”¨æ¬¡æ•°
```
/cdk add <id/cdk> <æ ‡è¯†ç¬¦> <æ•°é‡>
```

#### å¯¼å…¥CDK
```
/cdk import <æ–‡ä»¶> [replace|append]
```

#### å¯¼å‡ºCDK
```
/cdk export <æ–‡ä»¶>
```

## æƒé™èŠ‚ç‚¹

- `cdk.admin`: ç®¡ç†å‘˜æƒé™ï¼Œå¯ä»¥æ‰§è¡Œæ‰€æœ‰å‘½ä»¤
- `cdk.use`: ä½¿ç”¨CDKæƒé™
- `cdk.create`: åˆ›å»ºCDKæƒé™
- `cdk.query`: æŸ¥è¯¢CDKä¿¡æ¯æƒé™

## æ•°æ®åº“æ”¯æŒ

CDKeræ”¯æŒä¸¤ç§æ•°æ®åº“ç±»å‹ï¼š

### SQLiteï¼ˆé»˜è®¤ï¼‰
è½»é‡çº§çš„æ–‡ä»¶æ•°æ®åº“ï¼Œé€‚åˆå°å‹æœåŠ¡å™¨ã€‚

### MySQL
é€‚åˆå¤§å‹æœåŠ¡å™¨ï¼Œæ”¯æŒç½‘ç»œè¿æ¥å’Œæ›´å¥½çš„æ€§èƒ½ã€‚

è¦ä½¿ç”¨MySQLï¼Œè¯·åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹æ•°æ®åº“è®¾ç½®ï¼š
```yaml
cdk:
  database:
    type: "mysql"
    mysql:
      host: "your_mysql_host"
      port: 3306
      database: "your_database_name"
      username: "your_username"
      password: "your_password"
      table-prefix: "cdk_"
```

## å‘½ä»¤å‚è€ƒ

| å‘½ä»¤ | æƒé™ | è¯´æ˜ |
|------|------|------|
| `/cdk help` | æ—  | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |
| `/cdk create <æ•°é‡> "<å‘½ä»¤>" [æ¬¡æ•°] [å¤‡æ³¨] [è¿‡æœŸæ—¶é—´] [ç±»å‹] [å…è®¸å¤šæ¬¡ä½¿ç”¨]` | cdk.create | åˆ›å»ºCDK |
| `/cdk use <å…‘æ¢ç >` | cdk.use | ä½¿ç”¨CDK |
| `/cdk query <id/cdk> <æ ‡è¯†ç¬¦>` | cdk.query | æŸ¥è¯¢CDKä¿¡æ¯ |
| `/cdk del <id/cdk> <æ ‡è¯†ç¬¦>` | cdk.admin | åˆ é™¤CDK |
| `/cdk list [é¡µç ] [ç±»å‹]` | cdk.admin | åˆ—å‡ºæ‰€æœ‰CDK |
| `/cdk set <id/cdk> <æ ‡è¯†ç¬¦> <å±æ€§> <å€¼>` | cdk.admin | è®¾ç½®CDKå±æ€§ |
| `/cdk add <id/cdk> <æ ‡è¯†ç¬¦> <æ•°é‡>` | cdk.admin | å¢åŠ CDKä½¿ç”¨æ¬¡æ•° |
| `/cdk reload` | cdk.admin | é‡æ–°åŠ è½½é…ç½® |
| `/cdk import <æ–‡ä»¶> [replace\|append]` | cdk.admin | ä»æ–‡ä»¶å¯¼å…¥CDK |
| `/cdk export <æ–‡ä»¶>` | cdk.admin | å¯¼å‡ºCDKåˆ°æ–‡ä»¶ |

## æ„å»ºé¡¹ç›®

è¦ä»æºä»£ç æ„å»ºæ’ä»¶ï¼Œæ‚¨éœ€è¦ï¼š

1. Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬
2. Apache Maven 3.6 æˆ–æ›´é«˜ç‰ˆæœ¬

æ„å»ºæ­¥éª¤ï¼š
```bash
git clone https://github.com/your-username/CDKer.git
cd CDKer
mvn clean package
```

æ„å»ºåçš„JARæ–‡ä»¶å°†ä½äº `target/` ç›®å½•ä¸­ã€‚

## è´¡çŒ®

æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼å¦‚æœæ‚¨å‘ç°äº†bugæˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·æäº¤issueæˆ–pull requestã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦æƒ…è¯·è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚